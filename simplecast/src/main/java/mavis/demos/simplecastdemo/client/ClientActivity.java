package mavis.demos.simplecastdemo.client;import android.os.Bundle;import android.view.Surface;import android.view.SurfaceHolder;import android.view.SurfaceView;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import mavis.demos.simplecastdemo.R;public class ClientActivity extends AppCompatActivity {    private SocketClientManager mSocketClientManager;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        String wsSocket = getIntent().getStringExtra("ws_address");        setContentView(R.layout.activity_client);        SurfaceView surfaceView = findViewById(R.id.sv_screen);        surfaceView                .getHolder()                .addCallback(                        new SurfaceHolder.Callback() {                            @Override                            public void surfaceCreated(@NonNull SurfaceHolder holder) {                                // 连接到服务端                                initSocketManager(holder.getSurface(),wsSocket);                            }                            @Override                            public void surfaceChanged(                                    @NonNull SurfaceHolder holder, int format, int width, int height) {}                            @Override                            public void surfaceDestroyed(@NonNull SurfaceHolder holder) {}                        });    }    private void initSocketManager(Surface surface,String wsSocket) {        mSocketClientManager = new SocketClientManager(wsSocket);        mSocketClientManager.start(surface);    }    @Override    protected void onDestroy() {        if (mSocketClientManager != null) {            mSocketClientManager.stop();        }        super.onDestroy();    }}